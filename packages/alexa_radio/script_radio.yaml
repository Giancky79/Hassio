script:

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_tunein:
    alias: 'Alexa Tunein'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:
          entity_id: input_select.radio_format_streaming
          option: TUNEIN
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_apple_music:
    alias: 'Alexa Apple Music'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:
          entity_id: input_select.radio_format_streaming 
          option: APPLE_MUSIC
      - service: input_select.select_option
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_sequence:
    alias: 'Alexa Sequence'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:
          entity_id: input_select.radio_format_streaming
          option: sequence
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_amazon_music:
    alias: 'Alexa Amazon Music'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:
          entity_id: input_select.radio_format_streaming
          option: AMAZON_MUSIC
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_deezer:
    alias: 'Alexa Deezer'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:  
          entity_id: input_select.radio_format_streaming
          option: DEEZER
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno

#############################################################################################
#                                                                                           #
#############################################################################################
#                                                                                           #
#############################################################################################

  alexa_spotify:
    alias: 'Alexa Spotify'
    sequence:
      - service: media_player.volume_set
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          volume_level: '{{ states("input_number.echo_volume") | float }}'
      - service: input_select.select_option
        data:
          entity_id: input_select.radio_format_streaming
          option: SPOTIFY
      - delay: '00:00:02'
      - service: media_player.play_media
        data_template:
          entity_id: '{{ states("input_text.select_audio_output") }}'
          media_content_id: '{{ states("input_select.alexa_tunein") }}'
          media_content_type: '{{ states("input_select.radio_format_streaming") }}'
      - delay: '00:00:02'
      - service: input_select.select_option
        data:
          entity_id: input_select.alexa_tunein, input_select.alexa_apple_music, input_select.alexa_amazon_music, input_select.alexa_deezer, input_select.alexa_spotify, input_select.alexa_sequence
          option: nessuno
