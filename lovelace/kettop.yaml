type: vertical-stack
cards:
  - type: markdown
    theme: aqua-fiesta
    content: >-


      <font color="lime" size="5"> <strong> Benvenuto <font
      color="yellow">{{user}}</strong></font> 


      {% if states("sensor.current_version") == states("sensor.latest_version")
      %}


      ---


      <font color="lime" size="4"> <ha-icon icon="mdi:feather"> </ha-icon>
      &nbsp; Autore: &emsp; <font
      color="yellow">{{states.sensor.ha_fix.attributes["author"]["login"]}}
      &emsp; <img
      src="{{states.sensor.ha_fix.attributes["author"]["avatar_url"]}}"
      width="60" height="60"> 

      - {{ state_attr("sensor.ha_fix", "body")|regex_replace(find='\[.*\]?.*',
      ignorecase=False) | replace ('(', '') }}

      </font>

      {% endif %}

      {% if states("sensor.current_version") != states("sensor.latest_version")
      %}

      ---

      <font color="lime" size="4"> <ha-icon icon="mdi:home-assistant">
      </ha-icon>  &nbsp; Versione Installata: <font color="yellow"> &emsp;
      {{states('sensor.current_version')}}  </font>

      {% endif %}

      {% if state_attr("sensor.supervisor_updates", "current_version") != 
      state_attr("sensor.supervisor_updates", "newest_version") %}


      ---


      <font color="lime" size="4">  <ha-icon 
      icon="mdi:home-assistant"></ha-icon> &nbsp; Aggiornamento Supervisor:
      &emsp; <font color="yellow"> {{
      state_attr("sensor.supervisor_updates","current_version")}} ->  {{
      state_attr("sensor.supervisor_updates","newest_version")}}  </font>


      {% endif %}




      {% if states("sensor.supervisor_updates") != "0" %}
       
       
      ---

       
      <font color="lime" size="4"><ha-icon icon="mdi:format-list-bulleted">
      </ha-icon>  &nbsp; Aggiornamenti Add-on:  <font color="yellow"> &emsp; {{
      states.sensor.supervisor_updates.state }}
        {% for addon in states.sensor.supervisor_updates.attributes.addons %} 
        - {{addon.name }} {{ addon.installed }} -> {{ addon.version }} 
        {% endfor %}
      </font>

      {% endif %}

      {% if states("sensor.hacs") != "0" %}


      ---


      <font color="lime" size="4"> <ha-icon icon="hacs:hacs"></ha-icon>  &nbsp;
      Aggiornamenti HACS: &emsp; <font color="yellow"> {{ states('sensor.hacs')
      }} 
        {% for repo in states.sensor.hacs.attributes.repositories %}
        - **{{ repo.display_name }}:** _{{ repo["installed_version"] }}_ -> _{{repo["available_version"] }}_
        {% endfor %}
      </font>

      {% endif %}
    style: |
      ha-card {
        border: 4px solid royalblue; 
        border-radius: 20px;  
        #text-align: left;
        background: rgba(0, 0, 0, 0.4);
      }
