type: vertical-stack
cards:
  - type: markdown
    content: >-

      {% if states('sensor.current_version') != states('sensor.latest_version')
      %}


      <font color="lime" size="4"> <ha-icon icon="mdi:update"> </ha-icon> &nbsp;
      Aggiornamento di versione: <font color="yellow">

      > {{states('sensor.current_version')}} -> {{states('sensor.ha_fix')}} 
      </font>


      <font color="lime" size="4"> <ha-icon icon="mdi:feather"> </ha-icon>
      &nbsp; Autore: &emsp;   <font
      color="yellow">{{states.sensor.ha_fix.attributes["author"]["login"]}}
      &emsp; <img
      src="{{states.sensor.ha_fix.attributes["author"]["avatar_url"]}}"
      width="60" height="60">

      {{ state_attr("sensor.ha_fix", "body")|regex_replace(find='\[.*\]?.*',
      ignorecase=False) | replace ('(', '') }} </font>

      {% else %}

      {% endif %}

      {% if state_attr("sensor.supervisor_updates", "current_version") != 
      state_attr("sensor.supervisor_updates", "newest_version") %}


      ---

      <font color="lime" size="4"> <ha-icon icon="mdi:home-assistant"></ha-icon>
      &nbsp; **Aggiornamento Supervisor:** 


      > <font color="yellow">
      **{{state_attr("sensor.supervisor_updates","current_version")}} ->  {{
      state_attr("sensor.supervisor_updates","newest_version")}}**  </font>


      {% elif states("sensor.supervisor_updates") != "0" %}


      ---

      <font color="lime" size="4"> <ha-icon icon="mdi:format-list-bulleted">
      </ha-icon> &nbsp; Aggiornamenti Add-on    {% for addon in
      states.sensor.supervisor_updates.attributes.addons %} 


      - {{addon.name }}:   <font color="yellow"> _{{ addon.version }}_ -> _{{
      addon.version_latest }}_   {% endfor %}  </font>

      {% else %}

      {% endif %}

      {% if states("sensor.hacs") != "0" %}


      ---

      <font color="lime" size="4"> <ha-icon icon="mdi:alpha-c-box"> </ha-icon>
      &nbsp; **Aggiornamenti HACS:**

      {% for repo in states.sensor.hacs.attributes.repositories %} <font
      color="lime">

      - **{{repo.display_name}}** <font color="yellow">
      _{{repo["installed_version"]}}_ -> _{{repo["available_version"]}}_ {%
      endfor %} </font> 

      {% else %}

      {% endif %}
